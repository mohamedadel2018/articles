(self.webpackChunk=self.webpackChunk||[]).push([[402],{6402:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});const i={data:function(){return{ArticleData:[],search:"",dialogVisible:!1,editArticleVisible:!1,deleteArticleVisible:!1,catigoryData:[],form:{title:"",body:"",category_id:""},errors:{}}},methods:{createArticle:function(){this.form={},this.dialogVisible=!0},addNewArticle:function(){var t=this;axios.post("/admin/adminArticle",this.form).then((function(e){flash("Article added Successfully","success"),$("#success").html(e.data.message),t.getArticle(),t.clearData()})).catch((function(e){return t.errors=e.response.data.errors}))},getArticle:function(){var t=this;axios.get("adminArticle").then((function(e){t.ArticleData=e.data})).catch((function(t){return console.log(t)}))},processFile:function(t){var e=this,r=t.target.files[0],i=new FileReader;r.size<3111775?(i.onloadend=function(t){e.form.image=i.result},i.readAsDataURL(r)):alert("File size can not be bigger than 3 MB")},editArticle:function(t){this.editArticleVisible=!0,this.form=t},updateArticle:function(t){var e=this;axios.put("/admin/adminArticle/".concat(t),this.form).then((function(t){flash("Article Edit Successfully","success"),$("#success").html(t.data.message),e.getArticle(),e.clearData()})).catch((function(t){return e.errors=t.response.data.errors}))},deleteArticle:function(t){var e=this;axios.delete("/admin/adminArticle/".concat(t.id)).then((function(t){flash("Article Deleted Successfully","success"),$("#success").html(t.data.message),e.getArticle(),e.deleteArticleVisible=!1})).catch((function(t){return console.log(t)}))},handleClose:function(t){this.$confirm("Are you sure to close this dialog?").then((function(e){t()})).catch((function(t){}))},getcatigory:function(){var t=this;axios.get("adminCatigory").then((function(e){t.catigoryData=e.data})).catch((function(t){return console.log(t)}))},getResults:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;axios.get("adminArticle?page="+e).then((function(e){t.ArticleData=e.data}))},clearData:function(){this.errors={},this.dialogVisible=!1,this.editArticleVisible=!1,this.deleteArticleVisible=!1,this.form={}},catigoryName:function(t){console.log(this.catigoryData);for(var e=0;e<this.ArticleData.catigory.length;e++){var r=this.ArticleData.catigory[e];if(t==r.id)var i=r.name}return i}},created:function(){this.getArticle(),this.getcatigory()}};const a=(0,r(1900).Z)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"card-header border-0"},[r("div",{staticClass:"d-flex justify-content-between"},[r("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return e.preventDefault(),t.createArticle()}}},[t._v("add Articale "),r("i",{staticClass:"el-icen-plus"})])],1),t._v(" "),r("el-dialog",{attrs:{title:"New Article",visible:t.dialogVisible,width:"50%","before-close":t.handleClose,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("span",[r("el-form",{attrs:{"label-width":"20%"},on:{submit:function(e){return e.preventDefault(),t.addNewArticle(e)}}},[r("el-form-item",{attrs:{label:"Article Title"}},[r("el-input",{attrs:{placeholder:"Article Title"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),t._v(" "),t.errors.title?r("span",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.errors.title[0])+"\n                        ")]):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"Article body"}},[r("el-input",{attrs:{type:"textarea",placeholder:"Article Name"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}}),t._v(" "),t.errors.body?r("span",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.errors.body[0])+"\n                        ")]):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"Select Catigory"}},[r("el-select",{attrs:{placeholder:"Catigorys"},model:{value:t.form.category_id,callback:function(e){t.$set(t.form,"category_id",e)},expression:"form.category_id"}},t._l(t.catigoryData.data,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.errors.category_id?r("span",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.errors.category_id[0])+"\n                        ")]):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"Image *"}},[r("input",{attrs:{type:"file"},on:{change:function(e){return t.processFile(e)}}}),t._v(" "),t.errors.image?r("span",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.errors.image[0])+"\n                        ")]):t._e()])],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.addNewArticle()}}},[t._v("Submit")])],1)])],1),t._v(" "),r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.ArticleData.Article.data.filter((function(e){return!t.search||e.title.toLowerCase().includes(t.search.toLowerCase())})),border:""}},[r("el-table-column",{attrs:{label:"Date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("timeFormat")(e.row.created_at))+" ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"title",prop:"title"}}),t._v(" "),r("el-table-column",{attrs:{label:"body"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("limit_str_admin")(e.row.body))+" ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"image",prop:"image"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{attrs:{width:"50%",src:"/images/Article/"+t.row.image}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"catigory",prop:"category_id"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.catigoryName(e.row.category_id))+"\n            ")]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[r("el-input",{attrs:{placeholder:"Type to search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v("\n             "+t._s(e.row)+"\n            ")]}},{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return r.preventDefault(),t.editArticle(e.row)}}},[t._v("Edit")]),t._v(" "),r("el-dialog",{attrs:{title:"Edit Article",visible:t.editArticleVisible,width:"50%","before-close":t.handleClose,center:""},on:{"update:visible":function(e){t.editArticleVisible=e}}},[r("span",[r("el-form",{attrs:{"label-width":"20%"},on:{submit:function(e){return e.preventDefault(),t.addNewArticle(e)}}},[r("el-form-item",{attrs:{label:"Article Title *"}},[r("el-input",{attrs:{placeholder:"Article Title"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),t._v(" "),t.errors.title?r("span",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.errors.title[0])+"\n                        ")]):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"description *"}},[r("el-input",{attrs:{type:"textarea",placeholder:"description for Article"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}}),t._v(" "),t.errors.body?r("span",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.errors.body[0])+"\n                    ")]):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"Catigory *"}},[r("el-select",{attrs:{placeholder:"select Catigory"},model:{value:t.form.category_id,callback:function(e){t.$set(t.form,"category_id",e)},expression:"form.category_id"}},t._l(t.ArticleData.catigory,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.errors.category_id?r("span",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.errors.category_id[0])+"\n                        ")]):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"Image *"}},[r("input",{attrs:{type:"file"},on:{change:function(e){return t.processFile(e)}}}),t._v(" "),t.errors.image?r("span",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.errors.image[0])+"\n                        ")]):t._e()])],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.editArticleVisible=!1}}},[t._v("Cancel")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.updateArticle(t.form.id)}}},[t._v("Save")])],1)]),t._v(" "),r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.deleteArticleVisible=!0}}},[t._v("Delete")]),t._v(" "),r("el-dialog",{attrs:{title:"Delete Article",visible:t.deleteArticleVisible,width:"40%",center:""},on:{"update:visible":function(e){t.deleteArticleVisible=e}}},[r("span",[r("h4",{staticClass:"text-center"},[t._v(" Are you Sure You Want Delete this Article")])]),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){return t.clearData()}}},[t._v("Cancel")]),t._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(r){return r.preventDefault(),t.deleteArticle(e.row)}}},[t._v("Delete")])],1)])]}}])})],1),t._v(" "),r("ul",{staticClass:"mb-4 mt-4"},[r("pagination",{attrs:{data:t.ArticleData.Article,limit:1,"show-disabled":!0},on:{"pagination-change-page":t.getResults}},[r("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[t._v("< ")]),t._v(" "),r("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[t._v(" >")])])],1)],1)}),[],!1,null,null,null).exports},1900:(t,e,r)=>{"use strict";function i(t,e,r,i,a,l,o,n){var s,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=r,c._compiled=!0),i&&(c.functional=!0),l&&(c._scopeId="data-v-"+l),o?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=s):a&&(s=n?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),s)if(c.functional){c._injectStyles=s;var d=c.render;c.render=function(t,e){return s.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,s):[s]}return{exports:t,options:c}}r.d(e,{Z:()=>i})}}]);